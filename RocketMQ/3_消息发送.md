#### 消息发送者步骤分析

```tex
1.创建消息生产者producer，并制定生产者组名
2.指定Nameserver地址
3.启动producer
4.创建消息对象，指定主题Topic、Tag和消息体
5.发送消息
6.关闭生产者producer
```

#### 消息发送

##### 发送同步消息

这种可靠性同步地发送方式使用的比较广泛，比如：重要的消息通知，短信通知。

    // 发送消息到一个Broker
    sendResult = producer.send(msg);
##### 发送异步消息

异步消息通常用在对响应时间敏感的业务场景，即发送端不能容忍长时间地等待Broker的响应。

```
// SendCallback接收异步返回结果的回调
producer.send(msg, new SendCallback() {
    @Override
    public void onSuccess(SendResult sendResult) {
    	System.out.printf("%-10d OK %s %n", index,sendResult.getMsgId());
    }
    @Override
    public void onException(Throwable e) {
    	System.out.printf("%-10d Exception %s %n", index, e);
			e.printStackTrace();
    }
});
```

##### 单向发送消息

这种方式主要用在不特别关心发送结果的场景，例如日志发送。

```
// 发送单向消息，没有任何返回结果
producer.sendOneway(msg);
```



