#### 注意事项

+ 在执行查询语句时对某条数据进行FOR UPDATE时，其他用户对该表或者行进行修改或删除等操作时会阻塞（表锁/行锁的功能）。
+ 在mysql中FOR UPDATE时，如果查询条件带有主键会锁行数据，如果没有则会锁表数据。
+ 如果查询一条正在执行事务的数据时使用了FOR UPDATE 此时程序会进行阻塞，直到事务进行提交或者回滚时才会查询出结果。

#### 使用场景

当商户取消某一个订单时，此时用户正在支付此笔订单，当程序运行到查询此笔【待支付】订单金额时需要使用 FOR UPDATE ，然而程序一直会阻塞，直到商户取消完订单【已取消】事务提交后，此时查询结果会显示查询订单不存在，避免了错误支付的情况。

