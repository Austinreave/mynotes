#### 体系结构概览

![image-20200726221201658](C:\Users\星星\AppData\Roaming\Typora\typora-user-images\image-20200726221201658.png) 

##### 连接层

+ 协议：定义使用什么协议
+ 线程：并发处理、多个进程处理（mysql连接池）
+ 验证：能否连接msyql(能否登录进来)

##### sql层

+ 解析器：验证sql语句是否正确
+ 权限认证：是否有增删改查等等的权限
+ 优化器：判断是否走索引，还是全盘扫描，针对sql语句进行分析得到最正确的执行方式
+ 查询执行：如何取数据（通过引擎进行处理）
+ 查询高速缓存：提高查询效率，把第一次的数据存到缓存内，如果下次查询的sql语句相同直接从缓存获取即可。
+ 查询日志记录：操作的sql记录进行存储
+ 查询过程：
  + ![image-20200726220735957](C:\Users\星星\AppData\Roaming\Typora\typora-user-images\image-20200726220735957.png)

##### 引擎层

+ 存储引擎真正的负责了MySQL中数据的存储和提取，服务器通过API和存储引擎进行通信。不同的存储引擎具有不同的功能，这样我们可以根据自己的需要，来选取合适的存储引擎。

##### 存储层

+ 数据存储层， 主要是将数据存储在文件系统之上，并完成与存储引擎的交互。